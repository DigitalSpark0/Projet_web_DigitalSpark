<!-- users.php -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des utilisateurs</title>
    <!-- Inclure les liens vers les fichiers CSS ou les frameworks que vous utilisez -->
</head>
<body>

<div class="container">
    <h1>Liste des utilisateurs</h1>

    <?php
    // Inclure le fichier contenant la fonction getAllUsers
    require_once 'functions.php';

    // Appeler la fonction pour récupérer les utilisateurs
    $usersData = getAllUsers();

    // Vérifier s'il y a des utilisateurs
    if (!empty($usersData['users'])) {
        // Afficher les utilisateurs
        echo '<ul>';
        foreach ($usersData['users'] as $user) {
            echo '<li>' . $user['prenom'] . ' ' . $user['nom'] . ' - ' . $user['email'] . '</li>';
        }
        echo '</ul>';
    } else {
        echo '<p>Aucun utilisateur trouvé.</p>';
    }
    ?>

    <!-- Pagination -->
    <?php if ($usersData['total_pages'] > 1): ?>
        <div class="pagination">
            <?php for ($i = 1; $i <= $usersData['total_pages']; $i++): ?>
                <a href="?page=<?php echo $i; ?>"><?php echo $i; ?></a>
            <?php endfor; ?>
        </div>
    <?php endif; ?>
</div>

</body>
</html>
